@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        font-family: 'Figtree', system-ui, sans-serif;
        /* Mobile-first: Enable smooth scrolling */
        scroll-behavior: smooth;
        /* Prevent text size adjustment on mobile */
        -webkit-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
    }

    body {
        /* Mobile-first: Prevent horizontal scroll */
        overflow-x: hidden;
        /* Touch optimization */
        -webkit-tap-highlight-color: transparent;
        /* Better font rendering on mobile */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Mobile-first touch targets */
    button, 
    input, 
    select, 
    textarea, 
    a {
        /* Minimum 44px touch target */
        min-height: 44px;
        /* Remove default mobile button styling */
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
    }

    /* Mobile viewport meta optimization */
    @viewport {
        width: device-width;
        initial-scale: 1;
    }
}

@layer components {
    /* Mobile-first button system */
    .btn {
        @apply inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background;
        /* Mobile: larger touch targets, smaller text */
        @apply px-4 py-3 text-sm min-h-[44px];
        /* Desktop: smaller padding, larger text */
        @apply md:px-6 md:py-2 md:text-base md:min-h-[40px];
        /* Touch feedback */
        @apply active:scale-95 touch-manipulation;
    }
    
    .btn-primary {
        @apply btn bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800;
        @apply shadow-sm hover:shadow-md focus:shadow-lg;
    }
    
    .btn-secondary {
        @apply btn bg-gray-100 text-gray-900 hover:bg-gray-200 active:bg-gray-300;
        @apply border border-gray-200 hover:border-gray-300;
    }
    
    .btn-outline {
        @apply btn border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 active:bg-gray-100;
    }

    .btn-ghost {
        @apply btn bg-transparent text-gray-700 hover:bg-gray-100 active:bg-gray-200;
    }

    .btn-sm {
        @apply px-3 py-2 text-xs min-h-[36px] md:px-4 md:py-1 md:text-sm md:min-h-[32px];
    }

    .btn-lg {
        @apply px-6 py-4 text-base min-h-[52px] md:px-8 md:py-3 md:text-lg md:min-h-[48px];
    }
    
    /* Mobile-first form inputs */
    .input {
        @apply flex w-full rounded-md border border-gray-300 bg-white text-gray-900 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
        /* Mobile: larger touch targets */
        @apply px-4 py-3 text-base min-h-[44px];
        /* Desktop: smaller padding */
        @apply md:px-3 md:py-2 md:text-sm md:min-h-[40px];
        /* Mobile input optimization */
        @apply touch-manipulation;
    }

    .input-error {
        @apply input border-red-300 focus-visible:ring-red-500;
    }

    .textarea {
        @apply input resize-y min-h-[88px] md:min-h-[80px];
    }

    .select {
        @apply input pr-8 bg-no-repeat bg-right bg-center;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
        background-size: 16px 16px;
        background-position: right 12px center;
    }
    
    /* Mobile-first card system */
    .card {
        @apply rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm;
        /* Mobile: full width with minimal margins */
        @apply mx-2 my-2;
        /* Desktop: constrained width with more margins */
        @apply md:mx-auto md:my-4;
    }
    
    .card-header {
        @apply flex flex-col space-y-1.5;
        /* Mobile: smaller padding */
        @apply p-4;
        /* Desktop: larger padding */
        @apply md:p-6;
    }
    
    .card-content {
        @apply pt-0;
        /* Mobile: smaller padding */
        @apply p-4;
        /* Desktop: larger padding */
        @apply md:p-6;
    }
    
    .card-footer {
        @apply flex items-center pt-0;
        /* Mobile: smaller padding, stack vertically on small screens */
        @apply p-4 flex-col space-y-2;
        /* Desktop: larger padding, horizontal layout */
        @apply md:p-6 md:flex-row md:space-y-0 md:space-x-4;
    }

    /* Mobile navigation */
    .mobile-nav {
        @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50;
        @apply md:hidden;
    }

    .mobile-nav-item {
        @apply flex-1 flex flex-col items-center justify-center py-2 px-1 text-xs text-gray-600 active:bg-gray-100;
        @apply min-h-[60px] touch-manipulation;
    }

    .mobile-nav-item.active {
        @apply text-primary-600 bg-primary-50;
    }

    /* Hamburger menu */
    .hamburger {
        @apply flex flex-col justify-center w-6 h-6 cursor-pointer touch-manipulation;
    }

    .hamburger-line {
        @apply w-6 h-0.5 bg-gray-600 transition-all duration-300 ease-in-out;
    }

    .hamburger.active .hamburger-line:nth-child(1) {
        @apply rotate-45 translate-y-2;
    }

    .hamburger.active .hamburger-line:nth-child(2) {
        @apply opacity-0;
    }

    .hamburger.active .hamburger-line:nth-child(3) {
        @apply -rotate-45 -translate-y-2;
    }

    /* Mobile-first containers */
    .container-mobile {
        @apply w-full mx-auto px-4;
        /* Mobile: full width */
        @apply max-w-none;
        /* Tablet: constrained */
        @apply sm:max-w-2xl sm:px-6;
        /* Desktop: more constrained */
        @apply lg:max-w-4xl lg:px-8;
        /* Large desktop: most constrained */
        @apply xl:max-w-6xl;
    }

    /* Touch-optimized list items */
    .list-item {
        @apply flex items-center p-4 border-b border-gray-100 touch-manipulation active:bg-gray-50;
        @apply min-h-[60px];
    }

    .list-item:last-child {
        @apply border-b-0;
    }

    /* Mobile-first grid */
    .grid-mobile {
        @apply grid gap-4;
        /* Mobile: single column */
        @apply grid-cols-1;
        /* Tablet: two columns */
        @apply sm:grid-cols-2;
        /* Desktop: three columns */
        @apply lg:grid-cols-3;
        /* Large desktop: four columns */
        @apply xl:grid-cols-4;
    }

    /* Loading spinner optimized for mobile */
    .spinner {
        @apply inline-block w-6 h-6 border-2 border-gray-300 border-t-primary-600 rounded-full animate-spin;
    }

    .spinner-lg {
        @apply w-8 h-8 border-4;
    }

    /* Mobile-optimized modal */
    .modal-mobile {
        @apply fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50;
        @apply flex items-end justify-center p-0;
        @apply md:items-center md:p-4;
    }

    .modal-content-mobile {
        @apply w-full bg-white rounded-t-lg shadow-xl;
        @apply max-h-[90vh] overflow-auto;
        @apply md:w-auto md:min-w-[400px] md:max-w-2xl md:rounded-lg;
    }
}